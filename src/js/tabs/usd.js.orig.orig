var util = require('util'),
    Tab = require('../client/tab').Tab;

var UsdTab = function ()
{
  Tab.call(this);
};

util.inherits(UsdTab, Tab);

UsdTab.prototype.tabName = 'usd';
UsdTab.prototype.mainMenu = 'fund';

UsdTab.prototype.angularDeps = Tab.prototype.angularDeps.concat(['qr']);

UsdTab.prototype.generateHtml = function ()
{
  return require('../../jade/tabs/usd.jade')();
};

UsdTab.prototype.angular = function (module)
{
  module.controller('UsdCtrl', ['$rootScope', 'rpId', 'rpAppManager', 'rpTracker', '$routeParams',
    function ($scope, $id, appManager, rpTracker, $routeParams)
    {
<<<<<<< HEAD
<<<<<<< HEAD

      $scope.usdAmount;
      if (!$id.loginStatus) return $id.goId();

      $scope.calculateFee = function() {
        $scope.usdAmount * .30;
      }

      if($scope.usdAmount) {

        $scope.fee = ($scope.usdAmount * .30);

        $scope.total = $scope.usdAmount + $scope.fee;
      }
=======
      $scope.usdAmount = 10;
      if (!$id.loginStatus) return $id.goId();

      $scope.fee = ($scope.usdAmount*.18) + 1;

      $scope.total = $scope.usdAmount + $scope.fee;
>>>>>>> [FEATURE] Initial deposit USD flow
=======
      if(!$scope.usdAmount){
        $scope.fee = 0;
        $scope.total = 0;
      }

      if (!$id.loginStatus) return $id.goId();


=======
      $scope.fee = 0;
      $scope.total = 0;

      if (!$id.loginStatus) return $id.goId();

>>>>>>> b16065fa6b4b9aa0e30d32c0725b6d7f5c7df5de
      $scope.calculate = function(amount) {
        $scope.fee = (parseInt(amount, 10) * (1/100)) + .3;
        $scope.total = parseInt(amount, 10) + $scope.fee;

<<<<<<< HEAD
=======

>>>>>>> b16065fa6b4b9aa0e30d32c0725b6d7f5c7df5de
      }
>>>>>>> 4509dc62dc48830ea142a5c9b31fd9816b4ba8b7

    }]);
};

module.exports = UsdTab;
