/******/(function(modules) {
/******/	var installedModules = {};
/******/	function require(moduleId) {
/******/		if(typeof moduleId !== "number") throw new Error("Cannot find module '"+moduleId+"'");
/******/		if(installedModules[moduleId])
/******/			return installedModules[moduleId].exports;
/******/		var module = installedModules[moduleId] = {
/******/			exports: {},
/******/			id: moduleId,
/******/			loaded: false
/******/		};
/******/		modules[moduleId](module, module.exports, require);
/******/		module.loaded = true;
/******/		return module.exports;
/******/	}
/******/	require.e = function(chunkId, callback) {
/******/		callback(require);
/******/	};
/******/	require.modules = modules;
/******/	require.cache = installedModules;
/******/	return require(0);
/******/})
/******/({c:"",
/******/0: function(module, exports, require) {

eval("window.ncc = require(10);\nwindow.blobVault = require(8);\n\nvar RegisterScreen = require(12).RegisterScreen;\n\n$(document).ready(function () {\n  ncc.init();\n  RegisterScreen.init();\n});\n\n\n// WEBPACK FOOTER //\n// module.id = 0\n// module.realId = 0\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/entry/desktop.js");

/******/},
/******/
/******/1: function(module, exports, require) {

eval("var Base58Utils = require(3);\n\nvar Amount = function (a) {\n  if (this == window) return new Amount(a);\n  \n  if (a.constructor == String) {\n    this.currency = 'XNS';\n    this.value = a / BALANCE_DISPLAY_DIVISOR;\n    this.issuer = '';\n  } else {\n    _.extend(this, a);\n  }\n};\n\nvar AmountValue = (function () {\n  function repeat_str(s, n) {\n    return (new Array(n+1)).join(s);\n  }\n  function mod(x, n) {\n    if (x >= 0) return x % n;\n    else return x % n + n;\n  }\n  function sub(a, b) {\n    return a - b;\n  }\n  function add(a, b) {\n    return a + b;\n  }\n  \n  var AmountValue = function (s) {\n    if (this == window) return new AmountValue(s);\n    \n    if (s === undefined || !(s.constructor == Number || s.constructor == String))\n      throw \"AmountValue takes one argument which must be a Number or String.\"\n    \n    if (s.constructor == Number) {\n      AmountValue.call(this, String(s));\n      return;\n    }\n    \n    var mnum = s.match(/^[\\-+]?0*([0-9]*)(\\.([0-9]*?)0*)?$/);\n    \n    if (!s || !mnum) throw \"Invalid value for AmountNumber.\";\n    \n    this.sign = (s[0] == '+' || s[0] == '-') ? s[0] : '+';\n    \n    var whole = mnum[1] || \"\",\n        decim = mnum[3] || \"\",\n        digits = (whole + decim),\n        m = digits.match(/^(0*)([0-9]+?)0*$/),\n        leadZeros = m ? m[1] : \"\",\n        mantissa = m ? m[2] : \"0\",\n        exp = whole.length - leadZeros.length - 16;\n    \n    if (mantissa.length < 16) {\n      mantissa += repeat_str(\"0\", 16 - mantissa.length);\n    }\n    \n    this.mantissa = mantissa;\n    this.exponent = this.isZero() ? 0 : exp;\n    \n    if (mantissa.length > 16 || this.exponent > 80 || this.exponent < -96) {\n      throw \"This number cannot be represented.\"\n    }\n  };\n  \n  AmountValue.prototype.copy = function () {\n    var c = new AmountValue(0);\n    c.sign = this.sign;\n    c.mantissa = this.mantissa;\n    c.exponent = this.exponent;\n    return c;\n  };\n  \n  AmountValue.prototype.toString = function () {\n    var sign = this.sign == '-' ? '-' : '';\n    if (this.exponent === 0) {\n      return sign + this.mantissa;\n    } else if (this.exponent > 0) {\n      return sign + this.mantissa + repeat_str(\"0\", this.exponent);\n    } else if (this.exponent < 0) {\n      var point = this.mantissa.length + this.exponent,\n          whole = this.mantissa.slice(0, point < 0 ? 0 : point) || \"0\",\n          decim = point < 0 ? repeat_str(\"0\", -point) + this.mantissa\n                            : this.mantissa.slice(point,\n                                                  this.mantissa.length);\n      decim = decim.replace(/0*$/, '');\n      return sign + whole + (decim ? \".\" + decim : \"\");\n    }\n  };\n  \n  AmountValue.prototype.isZero = function () {\n    return this.mantissa == \"0000000000000000\";\n  };\n  \n  AmountValue.prototype.compareTo = function (other) {\n    if (!(other instanceof AmountValue)) {\n      other = new AmountValue(other);\n    }\n\n    if (this.sign != other.sign) {\n      return this.sign == '-' ? -1 : 1;\n    }\n    \n    if (this.exponent > other.exponent) {\n      return this.sign == '-' ? -1 : 1;\n    } else if (this.exponent < other.exponent) {\n      return this.sign == '-' ? 1 : -1;\n    } else {\n      if (this.mantissa > other.mantissa) {\n        return this.sign == '-' ? -1 : 1;\n      } else if (this.mantissa < other.mantissa) {\n        return this.sign == '-' ? 1 : -1;\n      } else {\n        return 0;\n      }\n    }\n  };\n  \n  AmountValue.prototype.div = function (other) {\n    var n;\n    if (!isNaN(other) && (other.constructor == String || other.constructor == Number)) {\n      return this.div(new AmountValue(String(other)));\n    } else if (other && other.constructor == AmountValue) {\n      if (other.isZero()) {\n        throw \"Cannon divide by zero.\";\n      } else if (other.mantissa == '1000000000000000') {\n        n = this.copy();\n        n.exponent -= (other.exponent + 15);\n      } else {\n        throw \"Dividing by this number not implemented.\";\n      }\n    } else {\n      throw \"divide method takes a numeric String, Number, or AmountValue.\";\n    }\n    return n;\n  };\n  \n  AmountValue.prototype.abs = function () {\n    return new AmountValue(this.toString().replace(/^-/, ''));\n  };\n  \n  AmountValue.prototype.neg = function () {\n    if (this.sign == '-') {\n      return new AmountValue(this.toString().replace(/^-/, ''));\n    } else {\n      return new AmountValue('-' + this.toString());\n    }\n  };\n  \n  // MODIFIES this\n  AmountValue.prototype.sub = function (other) {\n    if (!isNaN(other) && (other.constructor == String || other.constructor == Number)) {\n      return this.sub(new AmountValue(String(other)));\n    } else if (other && other.constructor == AmountValue) {\n      return this.add(other.neg());\n    } else {\n      throw \"sub method takes a numeric String, Number, or AmountValue.\"\n    }\n    return this;\n  };\n  \n  // MODIFIES this\n  AmountValue.prototype.add = function (m) {\n    if (!isNaN(m) && (m.constructor == String || m.constructor == Number)) {\n      // m is numeric string or number\n      return this.add(new AmountValue(String(m)));\n    } else if (m && m.constructor == AmountValue) {\n      var same_sign = this.sign == m.sign,\n          comp = this.abs().compareTo(m.abs()),\n          smaller = comp < 0 ? this : m,\n          bigger = comp < 0 ? m : this,\n          exp_diff = bigger.exponent - smaller.exponent,\n          big = bigger.mantissa + repeat_str(\"0\", exp_diff),\n          sml = repeat_str(\"0\", big.length - smaller.mantissa.length) + smaller.mantissa;\n      \n      var res = [], carry = 0;\n      \n      for (var i = big.length - 1; i >= 0; i--) {\n        var x = (same_sign ? add : sub)(Number(big[i]), (Number(sml[i]) + carry));\n        res.unshift(mod(x, 10));\n        carry = Number(x >= 10 || x < 0);\n      }\n      \n      res.unshift(carry);\n      res = res.join(''); // res is now a string\n      \n      if (smaller.exponent >= 0) {\n        res += repeat_str(\"0\", smaller.exponent);\n      } else {\n        var whole = res.slice(0, res.length + smaller.exponent) || \"0\",\n            decim = res.slice(res.length + smaller.exponent, res.length).replace(/0*$/, '');\n        res = bigger.sign + whole + \".\" + decim;\n      }\n      \n      res = new AmountValue(res); // res is on a horse\n      this.sign = res.sign;\n      this.mantissa = res.mantissa;\n      this.exponent = res.exponent;\n      \n      return this;\n    } else {\n      throw \"add method takes a numeric String, Number, or AmountValue\"\n    }\n  };\n  \n  return AmountValue;\n})();\n\n// uncomment to test\n// var a = (new AmountValue(\"-0.1234567890\")).add(1).toString()\n// if (a != \"0.876543211\") throw \"bad\"\n// \n// a = new AmountValue(\"0\");\n// if (a.mantissa != '0000000000000000') throw \"bad\"\n// if (a.exponent != 0) throw \"bad\"\n// \n// a = new AmountValue(\"0.1234567890\")\n// if (a.mantissa != '1234567890000000') throw \"bad\"\n// if (a.exponent != -16) throw \"bad\"\n// \n// a = new AmountValue(\"0.001234567890\")\n// if (a.mantissa != '1234567890000000') throw \"bad \" + a.mantissa\n// if (a.exponent != -18) throw \"bad \" + a.exponent\n// \n// a = new AmountValue(\"123456789012345600\")\n// if (a.mantissa != '1234567890123456') throw \"bad \" + a.mantissa\n// if (a.exponent != 2) throw \"bad \" + a.exponent\n// \n// a = new AmountValue(\"1234567890123456\")\n// if (a.mantissa != '1234567890123456') throw \"bad \" + a.mantissa\n// if (a.exponent != 0) throw \"bad \" + a.exponent\n// \n// a = new AmountValue(\"1000000000000000000\", true)\n// if (a.mantissa != '1000000000000000') throw \"bad\"\n// if (a.exponent != 3) throw \"bad\"\n// \n// console.log(\"all good\")\n\nvar RippleAddress = (function () {\n  function append_int(a, i) {\n    return [].concat(a, i >> 24, (i >> 16) & 0xff, (i >> 8) & 0xff, i & 0xff)\n  }\n  \n  function firstHalfOfSHA512(bytes) {\n    return (\n      new jsSHA(sjcl.codec.hex.fromBits(sjcl.codec.bytes.toBits(bytes)), 'HEX')\n    ).getHash('SHA-512', 'HEX').slice(0, 64);\n  }\n    \n  return function (seed) {\n    this.seed = Base58Utils.decode_base_check(33, seed);\n    \n    if (!this.seed) {\n      throw \"Invalid seed.\"\n    }\n    \n    this.getAddress = function (seq) {\n      seq = seq || 0;\n      \n      var private_gen, public_gen, i = 0;\n      do {\n        private_gen = sjcl.bn.fromBits(sjcl.codec.hex.toBits(\n          firstHalfOfSHA512(append_int(this.seed, i))\n        ));\n        i++;\n      } while (private_gen > sjcl.ecc.curves.c256.r);\n      \n      public_gen = sjcl.ecc.curves.c256.G.mult(private_gen);\n      \n      var sec;\n      i = 0;\n      do {\n        sec = sjcl.bn.fromBits(sjcl.codec.hex.toBits(\n          firstHalfOfSHA512(append_int(append_int(public_gen.toBytesCompressed(), seq), i))\n        ));\n        i++;\n      } while (sec > sjcl.ecc.curves.c256.r);\n      \n      var pubKey = sjcl.ecc.curves.c256.G.mult(sec).toJac().add(public_gen).toAffine();\n      return Base58Utils.encode_base_check(0, Crypto.util.sha256ripe160(pubKey.toBytesCompressed()));\n    }\n  };\n})();\n\nexports.Amount = Amount;\nexports.AmountValue = AmountValue;\nexports.RippleAddress = RippleAddress;\n\n\n\n// WEBPACK FOOTER //\n// module.id = 4\n// module.realId = 1\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/types.js");

/******/},
/******/
/******/2: function(module, exports, require) {

eval("var console = (function() { return this[\"console\"] || (this[\"window\"] && this[\"window\"].console) || {} }());\r\nmodule.exports = console;\r\nfor(var name in {log:1, info:1, error:1, warn:1, dir:1, trace:1, assert:1})\r\n\tif(!console[name])\r\n\t\tconsole[name] = function() {};\r\nvar times = {};\r\nif(!console.time)\r\nconsole.time = function(label) {\r\n\ttimes[label] = Date.now();\r\n};\r\nif(!console.timeEnd)\r\nconsole.timeEnd = function() {\r\n\tvar duration = Date.now() - times[label];\r\n\tconsole.log('%s: %dms', label, duration);\r\n};\n\n// WEBPACK FOOTER //\n// module.id = 15\n// module.realId = 2\n// module.chunks = main\n//@ sourceURL=webpack-module:///(webpack)/buildin/__webpack_console.js");

/******/},
/******/
/******/3: function(module, exports, require) {

eval("\nvar Base58Utils = (function () {\n  var alphabets = {\n    'ripple':  \"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz\",\n    'bitcoin': \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"\n  };\n  \n  var sha256  = function (bytes) {\n    return sjcl.codec.bytes.fromBits(sjcl.hash.sha256.hash(sjcl.codec.bytes.toBits(bytes)));\n  };\n  \n  var sha256hash = function (bytes) {\n    return sha256(sha256(bytes));\n  };\n  \n  var arraySet = function (count, value) {\n    var a = new Array(count);\n    var i;\n    \n    for (i = 0; i != count; i += 1)\n      a[i] = value;\n      \n    return a;\n  };\n  \n  return {\n    // --> input: big-endian array of bytes. \n    // <-- string at least as long as input.\n    encode_base: function (input, alphabetName) {\n      var alphabet\t= alphabets[alphabetName || 'ripple'];\n      var bi_base\t= new BigInteger(String(alphabet.length));\n      var bi_q\t= nbi();\n      var bi_r\t= nbi();\n      var bi_value\t= new BigInteger(input);\n      var buffer\t= [];\n      \n      while (bi_value.compareTo(BigInteger.ZERO) > 0)\n      {\n        bi_value.divRemTo(bi_base, bi_q, bi_r);\n        bi_q.copyTo(bi_value);\n        buffer.push(alphabet[bi_r.intValue()]);\n      }\n      \n      for (var i = 0; i != input.length && !input[i]; i += 1) {\n        buffer.push(alphabet[0]);\n      }\n      \n      return buffer.reverse().join(\"\");\n    },\n    \n    // --> input: String\n    // <-- array of bytes or undefined.\n    decode_base: function (input, alphabetName) {\n      var alphabet = alphabets[alphabetName || 'ripple'],\n          bi_base = new BigInteger(String(alphabet.length)),\n          bi_value = nbi();\n      \n      var i;\n      while (i != input.length && input[i] === alphabet[0]) {\n        i += 1;\n      }\n      \n      for (i = 0; i != input.length; i += 1) {\n        var v = alphabet.indexOf(input[i]);\n        \n        if (v < 0) {\n          return undefined;\n        }\n        \n        var r = nbi();\n        r.fromInt(v); \n        bi_value = bi_value.multiply(bi_base).add(r);\n      }\n      \n      // toByteArray:\n      // - Returns leading zeros!\n      // - Returns signed bytes!\n      var bytes =  bi_value.toByteArray().map(function (b) {\n        return b ? (b < 0 ? 256 + b : b) : 0;\n      });\n      \n      var extra = 0;\n      while (extra != bytes.length && !bytes[extra]) {\n        extra += 1;\n      }\n      \n      if (extra) {\n        bytes = bytes.slice(extra);\n      }\n      \n      var zeros = 0;\n      while (zeros !== input.length && input[zeros] === alphabet[0]) {\n        zeros += 1;\n      }\n      \n      return [].concat(arraySet(zeros, 0), bytes);\n    },\n    \n    // --> input: Array\n    // <-- String\n    encode_base_check: function (version, input, alphabet) {\n      var buffer  = [].concat(version, input);\n      var check   = sha256(sha256(buffer)).slice(0, 4);\n      return Base58Utils.encode_base([].concat(buffer, check), alphabet);\n    },\n    \n    // --> input : String\n    // <-- NaN || BigInteger\n    decode_base_check: function (version, input, alphabet) {\n      var buffer = Base58Utils.decode_base(input, alphabet);\n      \n      if (!buffer || buffer[0] !== version || buffer.length < 5) {\n        return NaN;\n      }\n      \n      var computed = sha256hash(buffer.slice(0, -4)).slice(0, 4),\n          checksum = buffer.slice(-4);\n      \n      var i;\n      for (i = 0; i != 4; i += 1)\n        if (computed[i] !== checksum[i])\n          return NaN;\n      \n      return buffer.slice(1, -4);\n    }\n  }\n})();\n\nmodule.exports = Base58Utils;\n\n\n// WEBPACK FOOTER //\n// module.id = 5\n// module.realId = 3\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/base58.js");

/******/},
/******/
/******/4: function(module, exports, require) {

eval("var RippleAddress = require(1).RippleAddress;\n\nvar RipplePage = require(5).RipplePage;\n\nvar welcomeScreen = {};\nwelcomeScreen.onShowTab = function () {};\nwelcomeScreen.walletProposeResponse = function () {};\n\nvar loginScreen = {};\n\nloginScreen.init = function () {\n  $(\"#loginForm\").submit(loginScreen.login);\n};\n\nloginScreen.onShowTab = function () {\n  setTimeout(function () {\n    if (localStorage.user) {\n      $(\"#loginForm input[name=username]\").val(localStorage.user);\n      $(\"#loginForm input[name=password]\").focus();\n    } else {\n      $(\"#loginForm input[name=username]\").focus();\n    }\n  }, 1);\n};\n\nloginScreen.login = function () {\n  var that = this,\n      loginErr = $(\"#LoginError\");\n\n  $(\"#LoginButton\").removeClass('btn-success').addClass('btn-info')\n    .val(\"Logging in...\").attr('disabled', true);\n\n  blobVault.login(\n    this.username.value,\n    this.password.value,\n    this.blob.value,\n    function success() {\n      ncc.user = localStorage.user = that.username.value;\n      ncc.masterKey = blobVault.data.master_seed;\n      if (ncc.misc.isValidSeed(ncc.masterKey)) {\n        ncc.accountID = (new RippleAddress(ncc.masterKey)).getAddress();\n      } else {\n        ncc.accountID = blobVault.data.account_id;\n      }\n      loginScreen.finishLogin();\n    },\n    function error(e) {\n      $(\"#LoginButton\").removeClass('btn-success').addClass('btn-danger')\n                       .val(e).attr('disabled', true);\n\n      setTimeout(function () {\n        $(\"#LoginButton\").addClass('btn-success').removeClass('btn-danger')\n                         .val(\"Login\").attr('disabled', false);\n      }, 1500);\n    }\n  );\n  return false;\n};\n\nloginScreen.finishLogin = function () {\n  $(\"#t-login div.heading\").text(\"Login\");\n  $('#NewMasterKey').text(ncc.masterKey);\n  $('#NewAddress').text(ncc.accountID);\n  $('#InfoMasterKey').text(ncc.masterKey);\n  $('#InfoBackupBlob').val(blobVault.blob);\n  $('#RecvAddress').text(ncc.accountID);\n  $('#RecvAddress2').text(ncc.accountID);\n\n  ncc.onLogIn();\n\n  remote.set_secret(ncc.accountID, ncc.masterKey);\n  remote.request_subscribe().accounts(ncc.accountID).request();\n  remote.request_ripple_lines_get(ncc.accountID).on('success', RipplePage.getLinesResponse).request();\n  remote.request_wallet_accounts(ncc.masterKey)\n    .on('success', function (res) {\n      ncc.processAccounts(res.accounts);\n      if (window.location.hash == '#t-deposit') {\n        ncc.displayScreen('send');\n      }\n      ncc.navigateToHash();\n    })\n    .on('error', function () {\n      ncc.displayTab(\"deposit\");\n      ncc.displayScreen(\"deposit\");\n      ncc.navigateToHash();\n    })\n    .request();\n};\n\nloginScreen.logout = function () {\n  ncc.onLogOut();\n  blobVault.logout();\n  $('#Balance').text('');\n  $('#RecvAddress').text('');\n  $('#RecvAddress2').text('');\n};\n\nvar depositScreen = {};\n\ndepositScreen.onShowTab = function () {\n  ncc.on('account-Payment', function () {\n    $(\"#t-deposit p\").text(\"Initial deposit received.\");\n    $(\"#t-deposit div.heading\").text(\"Success!\");\n    ncc.hideTab('deposit');\n  });\n};\n\n\nexports.LoginScreen = loginScreen;\nexports.WelcomeScreen = welcomeScreen;\nexports.DepositScreen = depositScreen;\n\n\n// WEBPACK FOOTER //\n// module.id = 7\n// module.realId = 4\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/login.js");

/******/},
/******/
/******/5: function(module, exports, require) {

eval("var RippleAddress = require(1).RippleAddress,\n    AmountValue = require(1).AmountValue;\n\nvar RipplePage = (function () {\n  var address, name, creditMax, currency,\n      \n      acctElem,\n      currElem,\n      limitElem,\n      \n      buttonElem,\n      rippleLinesTable;\n\n  var RipplePage = {};\n\n  RipplePage.init = function () {\n    $('#AddCreditLineButton').click(RipplePage.submitForm);\n\n    limitElem = $(\"#NewCreditMax\"),\n    buttonElem = $(\"#AddCreditLineButton\");\n    rippleLinesTable = $('#RippleTable');\n    $(\"#t-ripple input\").on('keydown', function (e) {\n      if (e.which == 13 && !buttonElem.attr('disabled') && !$(this).widget) {\n        buttonElem.click();\n      }\n    });\n  };\n  \n  function onFieldsUpdated() {\n    address = acctElem.value().replace(/\\s/g, '');\n    name = blobVault.addressBook.getName(address) || '';\n    creditMax = limitElem.val();\n    currency = currElem.value();\n    \n    try { // checks that the value is representable and >= 0\n      var sign = (new AmountValue(creditMax)).sign;\n      if (sign === \"-\") {\n        throw new Error(\"Negative values not allowed!\");\n      }\n    } catch (e) {\n      creditMax = \"bad\";\n    }\n    var allgud = ncc.misc.isValidAddress(address) && creditMax != 'bad' && currency;\n    buttonElem.attr('disabled', !allgud);\n  }\n  \n  RipplePage.lines = {};\n  \n  RipplePage.onShowTab = function () {\n    var recentSends = _.extend(blobVault.getRecentSends(), blobVault.addressBook.getEntries());\n    \n    if (!currElem) {\n      currElem = $(\"#NewCreditCurrency\").combobox({\n        data: ncc.currencyOptions,\n        selected: 'USD',\n        strict: true,\n        button_title: 'Select a currency',\n        onchange: onFieldsUpdated\n      }).data('combobox');\n    }\n    \n    if (!acctElem) {\n      acctElem = $(\"#NewCreditAccount\").combobox({\n        data: recentSends,\n        selected: '',\n        button_title: 'Recently used addresses',\n        onchange: onFieldsUpdated\n      }).data('combobox');\n    }\n    \n    limitElem.on('input', onFieldsUpdated);\n    \n    buttonElem.attr('disabled', true);\n    \n    acctElem.updateData(recentSends);\n    RipplePage.renderLines();\n  };\n  \n  RipplePage.getLinesResponse = function (res) {\n    if (res.lines && res.lines.length) {\n      RipplePage.lines = _.object(\n        _.map(\n          res.lines,\n          function (l) { return l.account + '/' + l.currency; }\n        ),\n        res.lines\n      );\n      RipplePage.renderLines();\n    }\n  };\n  \n  RipplePage.submitForm = function () {\n    var amount = creditMax + \"/\" + currency + \"/\" + address;\n    remote.transaction()\n      .ripple_line_set(ncc.accountID, amount)\n      .on(\"success\", RipplePage.setLineResponse)\n      .submit()\n    ;\n    ncc.misc.forms.disable(\"#t-ripple\");\n  }\n\n  RipplePage.setLineResponse = function (res) {\n    blobVault.updateRecentSends(address);\n    blobVault.save();\n    blobVault.pushToServer();\n    acctElem.promoteEntry(address);\n\n    acctElem.value('');\n    limitElem.val('');\n    address = '';\n    name = '';\n    creditMax = '';\n\n    ncc.misc.forms.enable(\"#t-ripple\");\n    onFieldsUpdated();\n  };\n\n  RipplePage.setLineError = function (res) {\n    ncc.misc.forms.enable(\"#t-ripple\");\n    onFieldsUpdated();\n  };\n\n  // this will return the accountID of the line that has the most credit left in that currency \n  RipplePage.findBestRouteIn = function (currency) {\n    var bestAccount = null,\n        max = 0;\n    \n    // TODO(cleanup): use _.max\n    _.each(\n      RipplePage.lines,\n      function (line) {\n        if (line.currency == currency) {\n          var left = line.limit - line.balance;\n          if (left > max) {\n            max = left;\n            bestAccount = line.account;\n          }\n        }\n      }\n    );\n    \n    return({ 'accountID' : bestAccount , 'max' : max }); \n  }  \n  \n  RipplePage.onCreditSet = function (tx) {\n    var limit = tx.LimitAmount,\n        key = limit.issuer + '/' + limit.currency,\n        line = RipplePage.lines[key] = RipplePage.lines[key] || {};\n    \n    line.account = limit.issuer;\n    line.currency = limit.currency; \n    line.limit = limit.value;\n    line.balance = line.balance || \"0\";\n    line.limit_peer = line.limit_peer || \"0\";\n    line.quality_in = line.quality_in || 0;\n    line.quality_out = line.quality_out || 0;\n    \n    RipplePage.renderLines();\n  };\n  \n  RipplePage.renderLines = function () {\n    for (var curr in ncc.balance) {\n      if (curr != 'XNS') {\n        delete ncc.balance[curr];\n      }\n    }\n    \n    rippleLinesTable.empty();\n    _.each(\n      RipplePage.lines,\n      function (line) {\n        ncc.changeBalance(line.currency, line.balance);\n        rippleLinesTable.prepend(\n          '<tr>' + \n            '<td>' + (line.limit_peer) + '</td>' +\n            '<td>' + line.balance + ' ' + line.currency + '</td>' +\n            '<td>' + line.limit + '</td>' +\n            '<td>' + (blobVault.addressBook.getName(line.account) || line.account) + '</td>' +\n            '<td></td>' + \n            '<td></td>' +\n          '</tr>'\n        );\n      }\n    );\n  };\n\n  return RipplePage;\n})();\n\nexports.RipplePage = RipplePage;\n\n\n// WEBPACK FOOTER //\n// module.id = 8\n// module.realId = 5\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/ripple.js");

/******/},
/******/
/******/6: function(module, exports, require) {

eval("var feed = {};\n\nfeed.init = function (remote) {\n  remote.on('ledger_closed', feed.onLedgerClose);\n  $('#FeedLedgerCheckbox').change(feed.onLedgerClick);\n  $('#FeedTransactionsCheckbox').change(feed.onTransactionsClick);\n  $('#FeedServerCheckbox').change(feed.onServerClick);\n  $('#FeedClearButton').click(feed.clear);\n};\n\nfeed.onShowTab = function () {};\n\nfeed.clear = function () {\n  $('#FeedArea').empty();\n};\n\nfeed.displayLedgerEvents = false;\nfeed.displayServerEvents = false;\n\nfeed.onLedgerClick = function (ele) {\n  feed.displayLedgerEvents = !!ele.checked;\n};\n\nfeed.onLedgerClose = function (hash, index) {\n  if (!feed.displayLedgerEvents) return;\n\n  str = '<div class=\"ledgerFeedMsg\">Accepted Ledger <strong>' + ncc.escape(index) +\n    '</strong> hash:' + ncc.escape(hash) + '</div>';\n\n  $('#FeedArea').prepend(str);\n};\n\nfeed.onTransactionsClick = function (ele) {\n  if (ele.checked) {\n    remote.request_subscribe('transactions').request();\n  } else {\n    remote.request_unsubscribe('transactions').request();\n  }\n};\n\nfeed.onServerClick = function (ele) {\n  if (ele.checked) {\n    //server.subscribe(\"server\");\n  } else {\n    //server.unsubscribe(\"server\");\n  }\n};\n\nfeed.addTransaction = function (obj) {};\n\nexports.FeedPage = feed;\n\n\n// WEBPACK FOOTER //\n// module.id = 11\n// module.realId = 6\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/feed.js");

/******/},
/******/
/******/7: function(module, exports, require) {

eval("var AddressBookPage = (function () {\n  var AddressBookTable = $(\"#AddressBookTable\"),\n      \n      makeRow = function (name, addr) {\n        return ('<tr data-name=\"' + escape(name) + '\" data-addr=\"' + escape(addr) + '\">' +\n                  '<td class=\"addr\">' + addr + '</td>' +\n                  '<td class=\"name\">' + name + '</td>' +\n                  '<td class=\"edit\">' +\n                    '<button class=\"edit\" onclick=\"AddressBookPage.editRow(this.parentElement.parentElement)\">edit</button>' +\n                    '<button class=\"save\" onclick=\"AddressBookPage.saveRow(this.parentElement.parentElement)\">save</button>' +\n                    '<button class=\"delete\" onclick=\"AddressBookPage.deleteRow(this.parentElement.parentElement)\">delete</button>' +\n                  '</td>' +\n                '</tr>');\n      },\n      \n      addRow = ('<tr>' +\n                  '<td class=\"addr\">&nbsp;</td>' +\n                  '<td class=\"name\">&nbsp;</td>' +\n                  '<td class=\"edit\">' +\n                    '<button class=\"add\" onclick=\"AddressBookPage.newRow()\">add</button>' +\n                  '</td>' +\n                '</tr>');\n\n  var AddressBookPage = {};\n  \n  AddressBookPage.onShowTab = function () {\n    AddressBookTable.html('');\n    \n    _.each(\n      blobVault.addressBook.getEntries(),\n      function (name, addr) {\n        AddressBookTable.append(makeRow(name, addr));\n      }\n    );\n    \n    AddressBookTable.append(addRow);\n  };\n  \n  AddressBookPage.newRow = function () {\n    var row = $(makeRow('', ''));\n    AddressBookTable.find('tr:last').before(row);\n    this.editRow(row);\n    row.find('input:first').focus();\n  };\n  \n  AddressBookPage.editRow = function (rowElem) {\n    var row = $(rowElem),\n        editButton = row.find('button.edit'),\n        saveButton = row.find('button.save'),\n        delButton = row.find('button.delete');\n    \n    editButton.hide();\n    saveButton.show();\n    \n    // if this is a new row\n    if (!row.attr('data-addr')) {\n      row.find('td.addr').html($('<input name=\"addr\">'));\n    } else {\n      delButton.show();\n    }\n    \n    row.find('td.name').html($('<input name=\"name\">').val(unescape(row.attr('data-name'))));\n    row.find('td input').focus().keydown(function (e) {\n      switch (e.which) {\n        case 27: // esc key\n          $(\"td.name input\").val(row.attr('data-name'));\n          $(\"td.addr input\").val(row.attr('data-addr'));\n          break;\n        case 13: // enter key\n          saveButton.click();\n      }\n    });\n  };\n  \n  AddressBookPage.saveRow = function (rowElem) {\n    var row = $(rowElem),\n        oldName = unescape(row.attr('data-name')),\n        newName = row.find('td.name input').val(),\n        addr = row.find('td.addr input').val() || unescape(row.attr('data-addr'));\n    \n    if (newName) {\n      row.find('button.save').hide();\n      row.find('button.delete').hide();\n      row.find('button.edit').show();\n      \n      row.find('td.name').text(newName);\n      row.find('td.addr').text(addr);\n      row.attr('data-name', escape(newName));\n      row.attr('data-addr', escape(addr));\n    } else {\n      row.remove();\n    }\n    \n    // update blobVault\n    blobVault.addressBook.setEntry(newName, addr);\n    blobVault.save();\n    \n    return false;\n  };\n  \n  AddressBookPage.deleteRow = function (rowElem) {\n    $(rowElem).find(\"td.name input\").val(\"\");\n    this.saveRow(rowElem);\n  };\n\n  return AddressBookPage;\n})();\n\nexports.AddressBookPage = AddressBookPage;\n\n\n// WEBPACK FOOTER //\n// module.id = 10\n// module.realId = 7\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/address.js");

/******/},
/******/
/******/8: function(module, exports, require) {

/******/ /* WEBPACK FREE VAR INJECTION */ (function(console) {
eval("var blobVault = (function () {\n  var user = '',\n      pass = '',\n      hash = '';\n\n  var blobVault = {};\n  \n  if (!localStorage.blobs) { localStorage.blobs = '{}'; }\n  var blobs = JSON.parse(localStorage.blobs);\n  \n  function make_hash() {\n    return sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(user + pass));\n  }\n  \n  function newer_blob(b1, b2) {\n    function blob_modified(b) {\n      try { return JSON.parse(unescape(JSON.parse(atob(b)).adata)).modified; }\n      catch (e) { return ''; }\n    }\n    return blob_modified(b1) > blob_modified(b2) ? b1 : b2;\n  }\n  \n  blobVault.blob = '';\n  blobVault.data = {};\n  blobVault.meta = {};\n  \n  blobVault.login = function (username, password, offlineBlob, onSuccess, onFailure) {\n    user = username;\n    pass = password;\n    hash = make_hash(user, pass);\n    \n    function processBlob(blob) {\n      if (!blob) onFailure(\"Bad username or password.\");\n      else if (!blobVault.loadBlob(blob)) onFailure(\"Account decryption failed.\");\n      else onSuccess();\n    }\n    \n    function processServerBlob(serverBlob) {\n      var localBlob = blobs[hash] || \"\";\n      serverBlob = serverBlob || \"\";\n      \n      if (offlineBlob) {\n        if (blobVault.loadBlob(offlineBlob)) {\n          this.save();\n          this.pushToServer(serverBlob);\n          onSuccess();\n        } else {\n          onFailure(\"Account decryption failed.\");\n        }\n        return;\n      }\n      \n      if (serverBlob == localBlob) {\n        processBlob(localBlob);\n        return;\n      }\n      \n      var primaryBlob = (serverBlob && localBlob) ? newer_blob(serverBlob, localBlob)\n                                                  : serverBlob || localBlob;\n      \n      // next, we try to load the primary blob selected above...\n      // if successful, we overwrite the secondary blob which wasn't selected with it\n      // if unsuccessful (i.e. someone modified the primary blob), we try to load the\n      //   secondary blob, and, if successful, overwrite the primary one with it\n      if (primaryBlob == serverBlob) {\n        console.log(\"server blob is primary\");\n        if (blobVault.loadBlob(serverBlob)) {\n          console.log(\"overwriting local blob\");\n          blobVault.write_blob(serverBlob);\n        } else {\n          if (blobVault.loadBlob(localBlob)) {\n            blobVault.pushToServer(serverBlob);\n          }\n        }\n      } else {\n        console.log(\"local is primary\");\n        if (blobVault.loadBlob(localBlob)) {\n          console.log(\"overwriting server\");\n          blobVault.pushToServer(serverBlob);\n        } else {\n          if (blobVault.loadBlob(serverBlob)) {\n            blobVault.write_blob(serverBlob);\n          }\n        }\n      }\n      \n      // blobVault.blob is truthy iff a loadBlob succeeded\n      if (blobVault.blob) {\n        onSuccess();\n      } else {\n        onFailure(\"Account decryption failed.\");\n      }\n    }\n    \n    $.get('http://' + Options.BLOBVAULT_SERVER + '/' + hash)\n      .success(processServerBlob)\n      .error(function () {\n        processBlob(blobs[hash]);\n      });\n  };\n  \n  blobVault.loadBlob = function (blob) {\n    var b = atob(blob);\n    try {\n      this.data = JSON.parse(sjcl.decrypt(user + pass, b));\n      this.meta = JSON.parse(unescape(JSON.parse(b).adata));\n      this.blob = blob;\n      \n      if (!this.data.address_to_name) this.data.address_to_name = {};\n      if (!this.data.recent_sends) this.data.recent_sends = [];\n      \n      return true;\n    } catch (e) {\n      return false;\n    }\n  };\n  \n  blobVault.register = function (username, password) {\n    user = username;\n    pass = password;\n    hash = make_hash(user, pass);\n    this.data = {};\n    this.meta = {\n      created: (new Date()).toJSON()\n    };\n  };\n  \n  blobVault.save = function () {\n    var plaintext = JSON.stringify(this.data),\n        adata, ct, key;\n    \n    this.meta.modified = (new Date()).toJSON();\n    adata = JSON.stringify(this.meta);\n    ct = sjcl.encrypt(user + pass, plaintext, { iter: 1000, adata: adata, ks: 256 });\n    this.write_blob(btoa(ct));\n  };\n  \n  blobVault.write_blob = function (blob) {\n    this.blob = blobs[hash] = blob;\n    localStorage.blobs = JSON.stringify(blobs);\n  };\n  \n  function pbkdfParams(blob) {\n    var b = JSON.parse(atob(blob));\n    return {\n      salt: b.salt && sjcl.codec.base64.toBits(b.salt),\n      iter: b.iter\n    };\n  }\n  \n  function authBlobUpdate(phrase, oldBlob, newBlob) {\n    var curve = sjcl.ecc.curves.c192,\n        \n        ecdsaKey = new sjcl.ecc.ecdsa.secretKey(curve,\n          sjcl.bn.fromBits(\n            sjcl.misc.cachedPbkdf2(phrase, pbkdfParams(oldBlob)).key\n          ).mod(curve.r)\n        ),\n        \n        sig = ecdsaKey.sign(sjcl.hash.sha256.hash(newBlob)),\n        \n        pub = curve.G.mult(\n          sjcl.bn.fromBits(\n            sjcl.misc.cachedPbkdf2(phrase, pbkdfParams(newBlob)).key\n          ).mod(curve.r)\n        );\n        \n    return {\n      new_pub: sjcl.codec.base64.fromBits(pub.toBits()),\n      sig: sjcl.codec.base64.fromBits(sig),\n      blob: newBlob\n    };\n  }\n  \n  blobVault.pushToServer = function (oldBlob) {\n    var data = oldBlob ? authBlobUpdate(user + pass, oldBlob, this.blob)\n                       : { blob: this.blob };\n    \n    $.post('http://' + Options.BLOBVAULT_SERVER + '/' + hash, data);\n  };\n  \n  blobVault.logout = function () {\n    user = '';\n    pass = '';\n    hash = '';\n    this.blob = '';\n    this.data = {};\n    this.meta = {};\n  };\n  \n  // accessors for blobVault.data\n  blobVault.getRecentSends = function () {\n    return _.object(\n      blobVault.data.recent_sends,\n      _.map(\n        blobVault.data.recent_sends || [],\n        function (a) { return blobVault.addressBook.getName(a) || a; }\n      )\n    );\n  };\n  \n  blobVault.updateRecentSends = function (addr) {\n    if (addr) {\n      blobVault.data.recent_sends = _.without(blobVault.data.recent_sends, addr);\n      blobVault.data.recent_sends.unshift(addr);\n      blobVault.data.recent_sends.splice(NUM_RECENT_ADDRESSES);\n    }\n  };\n  \n  blobVault.addressBook = (function () {\n    return {\n      getEntries : function () {\n        return blobVault.data.address_to_name;\n      },\n      \n      setEntry : function (name, address) {\n        if (name && address) {\n          blobVault.data.address_to_name[address] = name;\n        } else {\n          delete blobVault.data.address_to_name[address];\n        }\n      },\n      \n      getName : function (address) {\n        if (address == ncc.accountID) return \"you\";\n        return blobVault.data.address_to_name[address];\n      }\n    };\n  })();\n\n  return blobVault;\n})();\n\nmodule.exports = blobVault;\n\n\n// WEBPACK FOOTER //\n// module.id = 2\n// module.realId = 8\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/blobvault.js");
/******/ /* WEBPACK FREE VAR INJECTION */ }(require(/* __webpack_console */2)))

/******/},
/******/
/******/9: function(module, exports, require) {

eval("var HistoryPage = (function () {\n  var hist = {};\n\n  var HistoryPage = {};\n  \n  HistoryPage.onShowTab = function () {\n    $('#HistoryTable').empty();\n    _.each(hist, function (t, hash) {\n      HistoryPage.renderTransaction(t);\n    });\n  };\n\n  HistoryPage.onHistoryResponse = function (res) {\n    if (res) {\n      _.each(\n        res.transactions || [],\n        function (t) {\n          HistoryPage.addTransaction(t, false);\n        }\n      );\n    }\n  };\n  \n  HistoryPage.addTransaction = function (t, adjust) {\n    hist[t.hash] = t;\n    HistoryPage.renderTransaction(t, adjust);\n  };\n  \n  HistoryPage.renderTransaction = function (t, adjust) {\n    var amount;\n    if (t.TransactionType == 'CreditSet') {\n      amount = ncc.displayAmount(t.LimitAmount.value);\n    } else {\n      amount = ncc.displayAmount(t.Amount);\n    }\n    \n    var oldEntry = $('#' + t.hash),\n        \n        fromAcct = t.Account,\n        fromName = blobVault.addressBook.getName(fromAcct),\n\n        toAcct = t.TransactionType == 'CreditSet' ? t.LimitAmount.issuer : t.Destination,\n        toName = blobVault.addressBook.getName(toAcct),\n        \n        \n        // no button if name matches one of these\n        noBut = { 'you': 1, 'undefined': 1};\n        editButtons = (' <button class=\"edit\" onclick=\"HistoryPage.editName(this)\">edit</button>' +\n                       '<button class=\"save\" onclick=\"HistoryPage.saveName(this)\">save</button>');\n        \n        entry = ( '<td>' + (t.inLedger || t.ledger_current_index || t.ledger_closed_index) + '</td>' +\n                  '<td>' + t.TransactionType + '</td>' +\n                  '<td class=\"addr\" data-acct='+ fromAcct + ' data-name=\"' + fromName + '\">' +\n                    '<span>' + (fromName || fromAcct) + '</span>' +\n                    ((fromName || fromAcct) in noBut ? '' : editButtons) +\n                  '</td>' +\n                  '<td class=\"addr\" data-acct='+ toAcct + ' data-name=\"' + toName + '\">' +\n                    '<span>' + (toName || toAcct) + '</span>' +\n                    ((toName || toAcct) in noBut ? '' : editButtons) +\n                  '</td>' +\n                  '<td>' + amount + '</td>' +\n                  '<td>' + t.status + '</td>' );\n\n    if (oldEntry.length) {\n      oldEntry.html(entry);\n    } else {\n      $('#HistoryTable').prepend('<tr id=\"' + t.hash + '\">' + entry + '</tr>');\n\n      if (adjust) {\n        if (t.TransactionType == 'CreditSet' && t.Account == ncc.accountID) {\n          ncc.changeBalance('XNS', -t.Fee);\n          return;\n        }\n\n        var curr = t.Amount.currency || 'XNS',\n            amt = t.Amount.value || t.Amount;\n\n        if (t.Account == ncc.accountID) {\n          ncc.changeBalance(curr, -amt);\n          ncc.changeBalance('XNS', -t.Fee);\n        }\n\n        if (t.Destination == ncc.accountID) {\n          ncc.changeBalance(curr, amt);\n        }\n      }\n    }\n  };\n\n  HistoryPage.editName = function (cellElem) {\n    var cell = $(cellElem).parent(),\n        content = cell.find('span'),\n        saveButton = cell.find('button.save'),\n        editButton = cell.find('button.edit'),\n        name = content.text(),\n        input = $('<input>').val(name)\n                            .keydown(function (e) { if (e.which == 13) saveButton.click(); });\n    \n    saveButton.show();\n    editButton.hide();\n    content.html(input);\n    input.select();\n  };\n  \n  HistoryPage.saveName = function (cellElem) {\n    var cell = $(cellElem).parent(),\n        addr = cell.attr('data-acct'),\n        newName = cell.find('input').val();\n    \n    blobVault.addressBook.setEntry(newName, addr);\n    blobVault.save();\n    \n    HistoryPage.onShowTab();\n  };\n\n  return HistoryPage;\n})();\n\nexports.HistoryPage = HistoryPage;\n\n\n// WEBPACK FOOTER //\n// module.id = 9\n// module.realId = 9\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/history.js");

/******/},
/******/
/******/10: function(module, exports, require) {

eval("/*\nshow multiple balances\nripple progress bar\nonly fetch ripple lines when you start. then use websocket\ntrading\nconsole\n\nupdated accepted transactions\ntime stamp in feed\nflash balance when it changes\nupdate ledger page in real time\ntell them when they aren't connected by the websocket\n\nmuch later:\n  multiple accounts\n*/\n\nvar types = require(1),\n    AmountValue = types.AmountValue;\n\nvar Base58Utils = require(3);\n\nvar SendPage = require(13).SendPage,\n    loginScreen = require(4).LoginScreen,\n    RipplePage = require(5).RipplePage,\n    HistoryPage = require(9).HistoryPage,\n    AddressBookPage = require(7).AddressBookPage,\n    feed = require(6).FeedPage,\n    TradePage = require(15).TradePage,\n    OptionsPage = require(11).OptionsPage,\n    welcomeScreen = require(4).WelcomeScreen,\n    depositScreen = require(4).DepositScreen,\n    startUp = require(14);\n\nvar ncc = $('body');\n\nncc.currentView = '#StartScreen';\nncc.masterKey = '';\nncc.accountID = '';\nncc.accounts = [];\nncc.balance = {'XNS' : new AmountValue(0)};\nncc.loggedIn = false;\nncc.advancedMode = false;\nncc.admin = false;\n\nncc.currencyOptions = {\n  \"USD\" : \"USD - US Dollar\",\n  \"EUR\" : \"EUR - Euro\",\n  \"BTC\" : \"BTC - Bitcoins\",\n  \"GBP\" : \"GBP - British Pound\",\n  \"AUD\" : \"AUD - Australian Dollar\",\n  \"RUB\" : \"RUB - Russian Ruble\",\n  \"XAU\" : \"XAU - Ounces of Gold\",\n  \"XAG\" : \"XAG - Ounces of Silver\"\n};\n\nncc.allCurrencyOptions = {\n  \"XNS\" : \"XNS - Ripple Stamps\",\n  \"USD\" : \"USD - US Dollar\",\n  \"EUR\" : \"EUR - Euro\",\n  \"BTC\" : \"BTC - Bitcoins\",\n  \"GBP\" : \"GBP - British Pound\",\n  \"AUD\" : \"AUD - Australian Dollar\",\n  \"RUB\" : \"RUB - Russian Ruble\",\n  \"XAU\" : \"XAU - Ounces of Gold\",\n  \"XAG\" : \"XAG - Ounces of Silver\"\n};\n\nncc.on('account-Payment', function (e, tx) {\n  HistoryPage.addTransaction(tx, true);\n});\n\nncc.on('account-CreditSet', function (e, tx) {\n  RipplePage.onCreditSet(tx);\n});\n\nncc.on('account-OfferCreate', function (e, tx) {\n  TradePage.appendOffer(tx);\n});\n\nncc.on('account-OfferCancel', function (e, tx) {\n  TradePage.removeOrderRow(tx.OfferSequence);\n});\n\nncc.init = function () {\n  $(\"#t-send\").on(\"show\", SendPage.onShowTab);\n  $(\"#t-login\").on(\"show\", loginScreen.onShowTab);\n  $(\"#t-ripple\").on(\"show\", RipplePage.onShowTab );\n  $(\"#t-ledger\").on(\"show\", function () {\n    remote.request_ledger([\"lastclosed\", \"full\"])\n      .on('success', ledgerScreen.ledgerResponse)\n      .request();\n  });\n  $(\"#t-orderbook\").on(\"show\", function () {\n    remote.request_ledger([\"lastclosed\", \"full\"])\n      .on('success', orderBookScreen.ledgerResponse)\n      .request();\n  });\n  $(\"#t-history\").on(\"show\", HistoryPage.onShowTab);\n  $(\"#t-address\").on(\"show\", AddressBookPage.onShowTab);\n  $(\"#t-unl\").on(\"show\", function () {\n    remote.request_unl_list()\n      .on('success', unlScreen.unlResponse)\n      .request();\n  });\n  $(\"#t-peers\").on(\"show\", function () {\n    remote.request_peers()\n      .on('success', ncc.peersResponse)\n      .request();\n  });\n  $(\"#t-info\").on(\"show\", ncc.infoTabShown);\n  $(\"#t-feed\").on(\"show\", feed.onShowTab);\n  $(\"#t-trade\").on(\"show\", TradePage.onShowTab);\n  $(\"#t-options\").on(\"show\", OptionsPage.onShowTab); \n  $(\"#t-welcome\").on(\"show\", welcomeScreen.onShowTab);\n  $(\"#t-deposit\").on(\"show\", depositScreen.onShowTab);\n  \n  ncc.onLogOut();\n  $('#AdvancedNav').hide();\n  $('#UnlogAdvancedNav').hide();\n  \n  // unactives main navigation\n  \n  $('#UnlogAdvancedNav li a').click(function () {\n    $('#UnlogTopNav li').removeClass('active');\n  });\n  $('#TopNav li a').click(function () {\n    $('#MainNav li').removeClass('active');\n    $('#AdvancedNav li').removeClass('active');\n  });\n  $('#AdvancedNav li a').click(function () {\n    $('#MainNav li').removeClass('active');\n    $('#TopNav li').removeClass('active');\n  });\n  $('#MainNav li a').click(function () {\n    $('#AdvancedNav li').removeClass('active');\n    $('#TopNav li').removeClass('active');\n  });\n\n  $('#LogoutLink').click(loginScreen.logout);\n  \n  startUp.start();\n\n  loginScreen.init();\n  RipplePage.init();\n  OptionsPage.init();\n  SendPage.init();\n  TradePage.init();\n  \n  /* custom select boxes */\n  \n  if (!$.browser.opera) {\n     \n    // for large select \n     \n    $('select.select').each(function () {\n      var title = $(this).attr('title');\n      if ($('option:selected', this).val() !== '') {\n        title = $('option:selected',this).text();\n      }\n      $(this)\n        .css({'z-index':10,'opacity':0,'-khtml-appearance':'none'})\n        .after('<span class=\"select\">' + title + '</span>')\n        .change(function () {\n          val = $('option:selected',this).text();\n          $(this).next().text(val);\n        });\n    });\n    \n    // for small select\n    \n    $('select.select-small').each(function () {\n      var title = $(this).attr('title');\n      if ($('option:selected', this).val() !== '') {\n        title = $('option:selected',this).text();\n      }\n      $(this)\n        .css({'z-index':10,'opacity':0,'-khtml-appearance':'none'})\n        .after('<span class=\"select-small\">' + title + '</span>')\n        .change(function () {\n          val = $('option:selected',this).text();\n          $(this).next().text(val);\n        });\n    });\n  }\n\n  ncc.navigateToHash();\n  $(\"#GetStarted:visible\").focus();\n};\n\nncc.serverDown = function () {\n  ncc.status.error('No response from server. Please check if it is running.');\n};\n\nncc.checkError = function (response) {\n  var ret = response.result.error_message || response.result.error,\n      errorStr = (response.error || '') + (ret ? ' ' + ret : '');\n  \n  ncc.status.error(errorStr);\n  \n  return ret;\n};\n\nncc.status = (function () {\n  var container = $('#MainStatusArea'),\n      prot = false;\n  \n  function status(type, msg, json) {\n    if (msg) {\n      var elem = container.find('div.template').clone().removeClass('template').addClass('alert-' + type);\n      elem.find('p span').text(type.toUpperCase() + \": \" + msg);\n      try {\n        elem.find('pre.json').html(\n          ncc.misc.syntaxHighlight(\n            JSON.stringify(json, undefined, 2)\n          )\n        );\n        elem.find('button').show();\n      } catch (e) {\n        elem.find('pre.json').html('');\n        elem.find('button').hide();\n      }\n      \n      // protect messages that are within 1s of each other\n      if (!prot) {\n        container.find('div').not('.template').remove();\n        prot = true;\n        setTimeout(function () { prot = false; }, 1000);\n      }\n      \n      container.prepend(elem);\n    }\n  }\n  \n  return {\n    info: _.bind(status, this, 'info'),\n    error: _.bind(status, this, 'error')\n  };\n})();\n\nncc.displayScreen = function (s) {\n  document.location.hash = '#' + s;\n};\n\nncc.displayTab = function (s) {\n  $('.nav.nav-tabs:visible a[href=\"#' + s + '\"]').show();\n};\n\n// escape a string from the server so it is safe to stick in jquery's .html()\nncc.escape = function (str) {\n  if (str && str.replace)\n    return str.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n  return str;\n};\n\nncc.hideTab = function (s) {\n  $('.nav.nav-tabs:visible a[href=\"#' + s + '\"]').hide();\n};\n\nncc.processAccounts = function (accounts) {\n  ncc.accounts = accounts;\n\n  // figure total balance\n  var balance = new AmountValue(0);\n  for (var i = 0; i < accounts.length; i++) {\n    remote.set_account_seq(accounts[i].Account, accounts[i].Sequence);\n    balance.add(accounts[i].Balance);\n    remote.request_account_tx(accounts[i].Account, \"0\", \"999999\")\n      .on('success', HistoryPage.onHistoryResponse)\n      .request();\n  }\n\n  ncc.changeBalance('XNS', balance.sub(ncc.balance['XNS']));\n}\n\nncc.changeBalance = function (currency, delta) {\n  if (currency in ncc.balance) ncc.balance[currency].add(delta);\n  else ncc.balance[currency] = new AmountValue(delta);\n  \n  var currElem = $('li#' + currency + 'Balance');\n  \n  if (ncc.balance[currency].compareTo(0)) {\n    var amount = (currency == 'XNS') ? ncc.displayAmount(ncc.balance[currency])\n                                     : String(ncc.balance[currency]);\n    \n    if (currElem.length) {\n      // edit\n      currElem.html(amount + '<span>' + currency + '</span>');\n    } else {\n      // create\n      currElem = $('<li id=\"' + currency + 'Balance\">' + amount + '<span>' + currency + '</span></li>');\n      $('#ClientState').after(currElem);\n    }\n    \n    currElem.stop();\n    currElem.css('color', 'red');\n    currElem.animate({ color: 'white' }, 1000);\n  } else {\n    // delete \n    currElem.remove();\n  }\n}\n\nncc.displayAmount = function (amount) {\n  if (amount === undefined) {\n    return \"\";\n  }\n  \n  if (amount.constructor == Number || amount.constructor == String) {\n    return ncc.displayAmount(new AmountValue(amount));\n  }\n  \n  if (amount.currency) {\n    var value = amount.value;\n    if (amount.currency == 'XNS') {\n      return ncc.addCommas(value.div(BALANCE_DISPLAY_DIVISOR));\n    } else {\n      return ncc.addCommas(value) + ' ' + amount.currency;\n    }\n  } else {  // simple XNS\n    return ncc.addCommas(amount.div(BALANCE_DISPLAY_DIVISOR));\n  }\n}\n\nncc.addCommas = function (n) {\n  if (!/^[+\\-]?\\d+(.\\d*)?$/.test(n)) throw \"Invalid number format.\";\n  \n  var s = n.toString(),\n      m = s.match(/^([+\\-]?\\d+?)((\\d{3})*)(\\.\\d*)?$/),\n      whole = [m[1]].concat(m[2].match(/\\d{3}/g) || []),\n      fract = m[4] || \"\";\n  \n  return whole + fract;\n}\n\n///////////////////////////\n\nncc.infoTabShown = function () {\n  remote.request_server_info()\n    .on('success', ncc.infoResponse)\n    .request();\n}\n\nncc.infoResponse = function (res) {\n  if (res.info) {\n    $('#InfoServerState').text( res.info.serverState );\n    $('#InfoPublicKey').text( res.info.validationPKey );\n  }\n}\n\n//////////\n\nncc.addPeer = function () {\n  ip = $.trim($(\"#NewPeerIP\").val());\n  port = $.trim($(\"#NewPeerPort\").val());\n  remote.request_connect(ip, port).request();\n}\n\nncc.peersResponse = function (res) {\n  if (res.peers) {\n    $('#PeerTable').empty();\n    var peers = res.peers;\n    for (var i = 0; i < peers.length; i++) {\n      $('#PeerTable').append(\n        '<tr>' +\n          '<td>' + i + '</td>' +\n          '<td>' + peers[i].ip + '</td>' + \n          '<td>' + peers[i].port + '</td>' +\n          '<td>' + peers[i].version + '</td>' +\n        '</tr>'\n      );\n    }\n  }\n}\n\n///////////\n\nncc.chageTabs = function (e) {\n  //if (e.target.attributes.href(onTabShown)\n  //  e.target.onTabShown();\n}\n\nncc.nop = function () {}\n\nncc.toggleAdvanced = function (ele) {\n  if (ncc.advancedMode) {\n    $('#AdvancedNav').hide();\n    $('#UnlogAdvancedNav').hide();\n    ncc.advancedMode = false;\n    ele.innerHTML = \"Show Advanced <b class='caret'></b>\";\n  } else {\n    ele.innerHTML = \"Hide Advanced <b class='caret'></b>\";\n    ncc.advancedMode = true;\n    if (ncc.loggedIn) $('#AdvancedNav').show();\n    else $('#UnlogAdvancedNav').show();\n  }\n}\n\nncc.onLogIn = function () {\n  ncc.loggedIn = true;\n\n  $('#ClientState').html(\n    'Login is ' + ncc.user +\n    '. <a href=\"#\" onclick=\"document.location=\\'\\'\">Sign out</a>.'\n  );\n  \n  $('#UnlogMainNav').hide();\n  $('#UnlogTopNav').hide();\n  $('#MainNav').show();\n  $('#TopNav').show();\n  \n  if (ncc.advancedMode) {\n    $('#AdvancedNav').show();\n    $('#UnlogAdvancedNav').hide();\n  }\n  \n  $('#MainNav a[href=\"#send\"]').tab('show');\n}\n\nncc.onLogOut = function () {\n  ncc.loggedIn = false;\n  \n  $('#UnlogMainNav').show();\n  $('#UnlogTopNav').show();\n  $('#MainNav').hide();\n  $('#TopNav').hide();\n  \n  if (ncc.advancedMode) {\n    $('#AdvancedNav').hide();\n    $('#UnlogAdvancedNav').show();\n  }\n  \n  $('#UnlogTopNav a[href=\"#welcome\"]').tab('show');\n}\n\nncc.misc = {};\n\nncc.misc.isValidAddress = function (addr) {\n  return Boolean(Base58Utils.decode_base_check(0, addr));\n};\n\nncc.misc.isValidSeed = function (seed) {\n  return Boolean(Base58Utils.decode_base_check(33, seed));\n}\n\nncc.misc.syntaxHighlight = function syntaxHighlight(json) {\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    return json.replace(\n      /(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g,\n      function (match) {\n        var cls = /^\"/.test(match) ? (/\"?:$/.test(match) ? 'key': 'string')\n                                   : /true|false/.test(match) ? 'boolen'\n                                                              : /null/.test(match) ? 'null' : 'number';\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n      }\n    );\n};\n\nncc.misc.forms = (function () {\n  function undoClasses() {\n    this.classList.remove('ui-state-hover');\n    this.classList.remove('ui-state-active');\n  }\n  \n  return {\n    disable: function (f) {\n      var $f = $(f)\n      $f.find(\"input.ui-autocomplete-input+button\").each(function() {\n        this.style.cursor = \"not-allowed\";\n      }).on('hover mousedown', undoClasses);\n      $f.find('button').attr('disabled', true);\n      $f.find(\"input\").attr('disabled', true);\n    },\n    \n    enable: function (f) {\n      var $f = $(f);\n      $f.find(\"input.ui-autocomplete-input+button\").each(function() {\n        this.style.cursor = \"auto\";\n      }).off('hover mousedown', undoClasses);\n      $f.find('button').attr('disabled', false);\n      $f.find('input').attr('disabled', false);\n    }\n  };\n})();\n\nncc.misc.isValidAmount = function (amount, currency) {\n  // XXX Use big integer\n  if (currency == 'XNS') {\n    return ((amount % 1) === 0) && (amount > 0) && (amount < 100000000000000000);\n  } else {\n    try {\n      var a = new AmountValue(amount);\n      assert(!a.isZero() && a.sign != '-');\n      return !!currency;\n    } catch (e) {\n      return false;\n    }\n  }\n};\n\nncc.navigateToHash = function () {\n  var h = window.location.hash;\n  if (h) {\n    var tab = $('.nav.nav-tabs:visible a[href=\"' + h + '\"]');\n    if (tab.length) {\n      tab.click();\n    } else {\n      // tab is not immediately visible\n      var advNav = $(\"#AdvancedNav.nav.nav-tabs\");\n      tab = advNav.find('a[href=\"' + h + '\"]');\n      if (ncc.loggedIn && advNav.not(':visible') && tab.length) {\n        // tab is in the advanced menu\n        $(\"#AdvNavToggle\").click();\n        tab.click();\n      } else {\n        // tab is nowhere to be found, maybe we should try to login\n        if ($('.nav.nav-tabs:visible a[href=\"#login\"]').click().length) {\n          $(\"#t-login div.heading\").text(\"Login to see this page\");\n        }\n      }\n    }\n  }\n};\n\nwindow.onhashchange = function () {\n  $('.nav.nav-tabs:visible a[href=\"' + window.location.hash + '\"]').click();\n};\n\nmodule.exports = ncc;\n\n\n// WEBPACK FOOTER //\n// module.id = 1\n// module.realId = 10\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/ncc.js");

/******/},
/******/
/******/11: function(module, exports, require) {

eval("var OptionsPage = {};\n\nOptionsPage.init = function () {\n  $('#OptionsPageSave').click(OptionsPage.save);\n  $('#OptionsPageCancel').click(OptionsPage.cancel);\n};\n\nOptionsPage.onShowTab = function () {\n  $(\"#WSServerOption\").val(Options.WS_SERVER);\n  $(\"#BlobVaultServerOption\").val(Options.BLOBVAULT_SERVER);\n}\n\nOptionsPage.save = function () {\n  Options.WS_SERVER = $.trim( $(\"#WSServerOption\").val() );\n  Options.BLOBVAULT_SERVER = $.trim( $(\"#BlobVaultServerOption\").val() );\n  Options.save();\n  startUp.start();\n}\n\nOptionsPage.cancel = function () {\n  if (ncc.masterKey) ncc.displayScreen('send');\n  else ncc.displayScreen('welcome');\n}\n\nexports.OptionsPage = OptionsPage;\n\n\n// WEBPACK FOOTER //\n// module.id = 13\n// module.realId = 11\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/options.js");

/******/},
/******/
/******/12: function(module, exports, require) {

eval("var Base58Utils = require(3);\nvar RippleAddress = require(1).RippleAddress;\n\nvar RegisterScreen = {};\n\nRegisterScreen.init = function () {\n  var form = $(\"#registerForm\").on('submit', RegisterScreen.onSubmit);\n\n  form.find(\"input[name=username]\").validateWithRegex(/./, \"Good\", \"Bad\");\n  form.find(\"input[name=password]\").passStrength({ userid: \"#registerForm input[name=username]\" });\n  form.find(\"input[name=password2]\").passEqual(\"#registerForm input[name=password]\");\n  form.find(\"input[name=pk]\").validateWithFunction(ncc.misc.isValidSeed);\n  \n  form.find('input').on('input', function () {\n    var nonEmpty = function () { return this.name == 'pk' || this.value.length; },\n        allFilled = _.all(form.find('input:text,input:password').map(nonEmpty));\n    form.find(\"input[type=submit]\").attr('disabled', form.find(\"input+span.badPass\").length || !allFilled);\n  });\n};\n\nRegisterScreen.onShowTab = function () {};\n\nRegisterScreen.onSubmit = function (e) {\n  var form = this,\n      user = form.username.value,\n      pass = form.password.value,\n      regErr = $(\"#RegError\");\n\n  e.preventDefault();\n\n  if (form.password.value != form.password2.value) {\n    regErr(\"Passwords must match.\");\n    return;\n  }\n\n  function save_and_login() {\n    blobVault.save();\n    blobVault.login(user, pass, '', loginScreen.finishLogin, _.bind(regErr.text, regErr));\n  }\n\n  if (user && pass && (!form.pk.value || ncc.misc.isValidSeed(form.pk.value))) {\n    blobVault.register(user, pass);\n    ncc.user = localStorage.user = user;\n    var seed = ncc.masterKey = blobVault.data.master_seed = (\n       form.pk.value || Base58Utils.encode_base_check(33, sjcl.codec.bytes.fromBits(sjcl.random.randomWords(4)))\n    );\n    ncc.accountID = blobVault.data.account_id = (new RippleAddress(seed)).getAddress();\n    save_and_login();\n  } else {\n    regErr.text(\"Username and password can't be blank.\");\n  }\n};\n\nexports.RegisterScreen = RegisterScreen;\n\n\n// WEBPACK FOOTER //\n// module.id = 3\n// module.realId = 12\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/register.js");

/******/},
/******/
/******/13: function(module, exports, require) {

eval("var RipplePage = require(5).RipplePage;\n\nvar SendPage = (function () {\n  var address, name, currency, amount, // private variables\n      \n      amntElem, // amount\n      currElem, // currency\n      destElem, // destination\n      nameElem, // (optional) name\n      buttonElem; // button\n\n  var SendPage = {};\n\n  SendPage.init = function () {\n    $('#SendPageButton').click(SendPage.send);\n\n    buttonElem = $(\"#SendPageButton\");\n    amntElem = $(\"#SendAmount\");\n    nameElem = $(\"#SendDestName\");\n    $(\"#t-send input\").on('keydown', function (e) {\n      if (e.which == 13 && !buttonElem.attr('disabled') && !$(this).widget) {\n        buttonElem.click();\n      }\n    });\n    amntElem.on('input', onFieldsUpdated);\n  };\n  \n  function onFieldsUpdated() {\n    address = destElem.value().replace(/\\s/g, '');\n    name = blobVault.addressBook.getName(address) || \"\";\n    currency = currElem.value();\n    amount = amntElem.val() * (currency == 'XNS' ? BALANCE_DISPLAY_DIVISOR : 1);\n    \n    $(\"#SpacerRow\").show();\n    $(\"#AddressDisplayRow\").hide();\n    $(\"#SendDestNameRow\").hide();\n\n    buttonElem.attr(\n      'disabled', \n      !ncc.misc.isValidAmount(amount, currency)\n    );\n    \n    if (ncc.misc.isValidAddress(address) && name != 'you') {\n      $(\"#SpacerRow\").hide();\n      if (address == destElem.input.val().replace(/\\s/g, '')) {\n        // address in input box\n        $(\"#SendDestNameRow\").show();\n        $(\"#SendDestName\").val(name);\n      } else {\n        // name in input box\n        $(\"#AddressDisplayRow\").show();\n        $(\"#AddressDisplay\").val(address)\n      }\n    } else {\n      buttonElem.attr('disabled', true);\n    }\n    \n    destElem.button.next(\".testresult\").remove();\n    if (!buttonElem.attr('disabled')) {\n      checkCredit.call(destElem.button, amount, address, currency);\n    }\n  }\n  \n  function checkCredit(amount, addr, curr) {\n    var line = RipplePage.lines[addr + '/' + curr];\n    if ((curr == 'XNS' && Number(ncc.balance.XNS) >= amount)\n     || (line && Number(line.limit_peer) + Number(line.balance) > amount)) {\n       $(this).after($('<span>').addClass('strongPass testresult').html(\"<span>Ready to send</span>\"));\n       destElem.input.autocomplete('close');\n    } else {\n      if (curr == 'XNS') {\n        $(this).after(\"<span class='badPass testresult'><span>Insufficient funds</span></span>\");\n      } else {\n        $(this).after(\"<span class='badPass testresult'><span>Not enough credit</span></span>\");\n      }\n      buttonElem.attr('disabled', true);\n    }\n  }\n\n  SendPage.onShowTab = function () {\n    var destinationOptions = _.extend(blobVault.getRecentSends(), blobVault.addressBook.getEntries());\n    \n    if (!destElem) {\n      destElem = $(\"#SendDest\").combobox({\n        data: destinationOptions,\n        selected: '',\n        button_title: 'Recently used addresses',\n        onchange: onFieldsUpdated\n      }).data('combobox');\n    }\n    \n    if (!currElem) {\n      currElem = $(\"#SendCurrency\").combobox({\n        data: ncc.allCurrencyOptions,\n        selected: 'XNS',\n        strict: true,\n        button_title: 'Select a currency',\n        onchange: onFieldsUpdated\n      }).data('combobox');\n    }\n    \n    setTimeout(function () { amntElem.focus(); }, 100);\n    destElem.updateData(destinationOptions)\n  }\n  \n  SendPage.send = function () {\n\n    var tx = remote.transaction();\n    tx.payment(ncc.accountID, address, String(amount));\n    tx.set_flags('CreateAccount');\n    tx.on('success', SendPage.onSendResponse);\n    tx.on('error', SendPage.onSendError);\n    tx.submit();\n\n    buttonElem.text(\"Sending...\");\n    ncc.misc.forms.disable('#t-send');\n  };\n  \n  SendPage.onSendResponse = function (res) {\n    var toAccount = res.dstAccountID,\n    curr = res.dstISO;\n    \n    name = nameElem.val() || name;\n    if (name) {\n      blobVault.addressBook.setEntry(name, toAccount);\n    }\n    \n    blobVault.updateRecentSends(toAccount);\n    blobVault.save();\n    blobVault.pushToServer();\n    \n    destElem.promoteEntry(toAccount);\n    \n    // clean up\n    address = null;\n    name = null;\n    currency = null;\n    amount = null;\n    \n    destElem.value('');\n    $(\"#SendAmount\").val('');\n    $(\"#SendDestName\").val('');\n    $(\"#SendDestNameRow\").hide();\n    $(\"#AddressDisplay\").val('');\n    $(\"#AddressDisplayRow\").hide();\n    $(\"#SpacerRow\").show();\n    \n    buttonElem.text(\"Send Money\");\n    ncc.misc.forms.enable('#t-send');\n    onFieldsUpdated();\n  }\n\n  SendPage.onSendError = function () {\n    buttonElem.text(\"Send Money\");\n    ncc.misc.forms.enable('#t-send');\n    onFieldsUpdated();\n  };\n\n  return SendPage;\n})();\n\nexports.SendPage = SendPage;\n\n\n// WEBPACK FOOTER //\n// module.id = 6\n// module.realId = 13\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/send.js");

/******/},
/******/
/******/14: function(module, exports, require) {

eval("var feed = require(6).FeedPage;\n\nvar startUp = {};\n\nstartUp.start = function () {\n  if (!Options.server.websocket_ip.indexOf(\"127.0.0.1\") ||\n      !Options.server.websocket_ip.indexOf(\"localhost\")) {\n    ncc.admin = true;\n  } else {\n    ncc.admin = false;\n    ncc.displayScreen('welcome');\n    ncc.displayScreen('send');\n  }\n\n  window.remote = new ripple.Remote(Options.server.trusted,\n                                    Options.server.websocket_ip,\n                                    Options.server.websocket_port,\n                                    true);\n  remote.connect();\n\n  feed.init(remote);\n\n  var hostinfo = Options.server.websocket_ip + \":\" +\n    Options.server.websocket_port;\n  ncc.status.info(\"connecting to \" + hostinfo);\n  $('#ServerDisplay').text(\"Connecting to: \" + hostinfo);\n}\n\nmodule.exports = startUp;\n\n\n// WEBPACK FOOTER //\n// module.id = 14\n// module.realId = 14\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/startup.js");

/******/},
/******/
/******/15: function(module, exports, require) {

eval("var TradePage = (function () {\n  var sellCurr, buyCurr,    // private vars\n      outAmount, outIssuer,\n      inAmount, inIssuer,\n      price,\n      \n      sellCurrElem, buyCurreElem, // form elements\n      amountElem, priceElem,\n      buttonElem,\n      \n      openOrderTable;\n\n  var TradePage = {};\n      \n  TradePage.init = function () {\n    $(\"#t-trade input\").on('keydown', function (e) {\n      if (e.which == 13 && !buttonElem.attr('disabled') && !$(this).widget) {\n        buttonElem.click();\n      }\n    });\n    \n    sellCurrElem = $(\"#TradePageSellCurr\").combobox({\n      data: ncc.allCurrencyOptions,\n      strict: true,\n      selected: 'USD',\n      onchange: onFieldsUpdated\n    }).data('combobox');\n  \n    buyCurreElem = $(\"#TradePageBuyCurr\").combobox({\n      data: ncc.allCurrencyOptions,\n      strict: true,\n      selected: 'XNS',\n      onchange: onFieldsUpdated\n    }).data('combobox');\n  \n    amountElem = $('#TradePageAmount').on('input', onFieldsUpdated);\n    priceElem = $('#TradePagePrice').on('input', onFieldsUpdated);\n    buttonElem = $(\"#TradePageButton\");\n    openOrderTable = $(\"#OpenOrderTable\");\n\n    $('#TradePageButton').click(TradePage.placeOrder);\n  };\n  \n  function onFieldsUpdated() {\n    sellCurr = sellCurrElem.value();\n    buyCurr = buyCurreElem.value();\n    \n    outAmount = amountElem.val();\n    price = priceElem.val();\n    inAmount = outAmount * price;\n    \n    if (!(sellCurr && buyCurr && inAmount)) {\n      buttonElem.attr('disabled', true);\n      TradePage.status.clear();\n      return;\n    }\n    \n    var outIssuer;\n    if (sellCurr == 'XNS') {\n      outIssuer = '';\n      outAmount *= BALANCE_DISPLAY_DIVISOR;\n    } else {\n      outIssuer = ncc.accountID;\n    }\n\n    var inRoute;\n    if (buyCurr == 'XNS') { \n      inAmount *= BALANCE_DISPLAY_DIVISOR;\n      inRoute = { 'max': inAmount + 10, 'accountID': '' };\n    } else {\n      // need to discover the inIssuer\n      inRoute = RipplePage.findBestRouteIn(buyCurr);\n    }\n    \n    inIssuer = inRoute.accountID;\n    \n    if (sellCurr == buyCurr) {\n      TradePage.status.error(\"Sell Currency cannot equal Buy Currency\");\n      return;\n    }\n    \n    if (inRoute.max >= inAmount) {\n      TradePage.status.info(\n        // You are wanting to buy 10 USD for 1000 XNS (price .001)\n        \"You are wanting to buy \" +\n        (buyCurr == 'XNS' ? inAmount / BALANCE_DISPLAY_DIVISOR : inAmount) + ' ' + buyCurr + \n        \" for \" + \n        (sellCurr == 'XNS' ? outAmount / BALANCE_DISPLAY_DIVISOR : outAmount) + ' ' + sellCurr + \n        \" (priced \" + price + \" each)\"\n      );\n    } else {\n      TradePage.status.error(\"Increase your trust network for \" + buyCurr + \" IOUs first.\");\n    }\n  }\n  \n  TradePage.onShowTab = function () {\n    onFieldsUpdated();\n\n    remote.request_ledger([\"lastclosed\", \"full\"])\n      .on('success', TradePage.onLedgerResponse)\n      .request();\n  };\n  \n  TradePage.placeOrder = function () {\n    var takerPays = \"\" + inAmount + \"/\" + buyCurr + \"/\" + inIssuer;\n    var takerGets = \"\" + outAmount + \"/\" + sellCurr + \"/\" + outIssuer;\n    remote.transaction()\n      .offer_create(ncc.accountID,\n                    takerPays,\n                    takerGets,\n                    '0')\n      .on('success', TradePage.onOfferCreateResponse)\n      .submit()\n    ;\n  }\n  \n  TradePage.onOfferCreateResponse = function (res, noErrors) {\n    if (noErrors) {\n      sellCurrElem.value('USD');\n      buyCurreElem.value('XNS');\n      amountElem.val('');\n      priceElem.val('');\n      onFieldsUpdated();\n    }\n  };\n  \n  TradePage.status = {\n    info: function (s) {\n      if (s) {\n        $(\"#TradePageStatus div.info\").show().text(s);\n        this.error(null);\n        buttonElem.attr('disabled', false);\n      } else {\n        $(\"#TradePageStatus div.info\").hide();\n      }\n    },\n    \n    error: function (e) {\n      if (e) {\n        $(\"#TradePageStatus div.error\").show().text(e);\n        this.info(null);\n        buttonElem.attr('disabled', true);\n      } else {\n        $(\"#TradePageStatus div.error\").hide();\n      }\n    },\n    \n    clear: function () {\n      $(\"#TradePageStatus div\").hide();\n    }\n  };\n  \n  function createOrderRow(a) {\n    var takerGets = Amount(a.TakerGets),\n        takerPays = Amount(a.TakerPays);\n    \n    return ('<tr data-sequence=\"' + a.Sequence + '\">' +\n              '<td>' + '' + '</td>' +\n              '<td>' + takerGets.currency + '/' + takerPays.currency + '</td>' +\n              '<td>' + (takerPays.value / takerGets.value) + '</td>' +\n              '<td>' + takerGets.value + '</td>' +\n              '<td>' + (a.status || 'closed') + '</td>' +\n              '<td>' +\n                '<button onclick=\"TradePage.cancelOffer(this.parentElement.parentElement);\">' +\n                  'cancel?' +\n                '</button>' +\n              '</td>' +\n            '</tr>');\n             \n  }\n  \n  // the following methods populate and modify the offer table\n  TradePage.onLedgerResponse = function (res) {\n    if (res.ledger) {\n      var tbody = openOrderTable.empty();\n      _.each(\n        res.ledger.accountState || [],\n        function (a) {\n          if (a.Account == ncc.accountID && a.LedgerEntryType == \"Offer\") {\n            tbody.append(createOrderRow(a));\n          }\n        }\n      );\n    }\n  };\n  \n  TradePage.appendOffer = function (a) {\n    var tr = openOrderTable.find('tr[data-sequence=' + a.Sequence +']');\n    if (tr.length) {\n      tr.replaceWith(createOrderRow(a));\n    } else {\n      openOrderTable.append(createOrderRow(a));\n    }\n  };\n  \n  TradePage.cancelOffer = function (rowElem) {\n    var row = $(rowElem),\n        button = row.find('button');\n    if (button.text() == 'cancel?') {\n      button.text(\"cancel!\");\n    } else {\n      remote.transaction()\n        .offer_cancel(ncc.accountID, row.attr('data-sequence'))\n        .on('success', \n            function callback(res) {\n              row.css('opacity', '0.5');\n              button.attr('diabled', true);\n              button.text('canceling');\n            });\n    }\n  };\n  \n  TradePage.removeOrderRow = function (seq) {\n    openOrderTable.find('tr[data-sequence=' + seq +']').remove();\n  };\n\n  return TradePage;\n})();\n\nexports.TradePage = TradePage;\n\n\n// WEBPACK FOOTER //\n// module.id = 12\n// module.realId = 15\n// module.chunks = main\n//@ sourceURL=webpack-module:///var/www/ripple-client/src/js/client/trade.js");

/******/}
/******/})